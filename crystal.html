<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº”è¡Œå‘½å®šæ°´æ™¶æ¸¬ç®—</title>
    <style>
        /* Mobile-first è¨­è¨ˆ */
        body { font-family: 'PingFang HK', sans-serif; background: #f9f4f0; color: #4a4a4a; margin: 0; padding: 20px; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        h2 { text-align: center; color: #b58d67; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #b58d67; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 10px; }
        
        #result { margin-top: 30px; display: none; text-align: center; animation: fadeIn 0.5s; }
        .product-card { border: 2px solid #e0d5c8; border-radius: 15px; padding: 15px; margin-top: 15px; }
        .product-img { width: 100%; border-radius: 10px; }
        .buy-btn { display: inline-block; padding: 10px 20px; background: #333; color: white; text-decoration: none; border-radius: 5px; margin-top: 10px; }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ”® æ¸¬ç®—ä½ çš„å‘½å®šæ°´æ™¶</h2>
    <div class="form-group">
        <label>æ‚¨çš„å§“å</label>
        <input type="text" id="userName" placeholder="è«‹è¼¸å…¥å§“å">
    </div>
    <div class="form-group">
        <label>å‡ºç”Ÿæ—¥æœŸ</label>
        <input type="date" id="birthDate">
    </div>
    <div class="form-group">
        <label>å‡ºç”Ÿæ™‚è¾°</label>
        <input type="time" id="birthTime">
    </div>
    <button onclick="calculateFiveElements()">é–‹å§‹å…è²»æ¸¬ç®—</button>

    <div id="result">
        <h3 id="analysisText"></h3>
        <div id="productDisplay" class="product-card">
            </div>
    </div>
</div>

<script>
// 1. å•†å“è³‡æ–™åº« (å°æ‡‰ä½ çš„ Shopline é€£çµ)
const shoplineProducts = {
    "é‡‘": { name: "ç™½æ°´æ™¶", info: "å¢å¼·æ±ºæ–·åŠ›ï¼Œæ·¨åŒ–ç£å ´", img: "https://via.placeholder.com/300?text=White+Crystal", url: "ä½ çš„é€£çµ1" },
    "æœ¨": { name: "ç¶ å¹½éˆ", info: "æ‹›æ­£è²¡ï¼ŒåŠ©äº‹æ¥­ç™¼å±•", img: "https://via.placeholder.com/300?text=Green+Ghost", url: "ä½ çš„é€£çµ2" },
    "æ°´": { name: "é»‘æ›œçŸ³", info: "é¿é‚ªæ“‹ç…ï¼Œæ’é™¤è² èƒ½é‡", img: "https://via.placeholder.com/300?text=Obsidian", url: "ä½ çš„é€£çµ3" },
    "ç«": { name: "ç´…ç´‹çŸ³", info: "æ‹›ç´…ç²‰æ¡ƒèŠ±ï¼Œå¢é€²äººç·£", img: "https://via.placeholder.com/300?text=Rhodochrosite", url: "ä½ çš„é€£çµ4" },
    "åœŸ": { name: "é»ƒæ°´æ™¶", info: "å‡èšæ„å¤–ä¹‹è²¡ï¼Œå¢å¼·è‡ªä¿¡", img: "https://via.placeholder.com/300?text=Citrine", url: "ä½ çš„é€£çµ5" }
};

// 2. æ ¸å¿ƒè¨ˆç®—å‡½æ•¸
function calculateFiveElements() {
    const name = document.getElementById('userName').value;
    const date = document.getElementById('birthDate').value;
    
    if(!date) { alert("è«‹é¸æ“‡æ—¥æœŸ"); return; }

    // --- ç°¡åŒ–é‚è¼¯æ¼”ç¤º ---
    // æ³¨æ„ï¼šçœŸæ­£çš„å…«å­—è½‰æ›éœ€è¦å¼•å…¥ Lunar.js åº«ã€‚é€™è£¡å…ˆç”¨ä¸€å€‹æ¨¡æ“¬ç®—æ³•æ¼”ç¤ºé‚è¼¯
    // å¯¦éš›ä¸Šä½ æœƒåœ¨é€™è£¡çµ±è¨ˆï¼šé‡‘, æœ¨, æ°´, ç«, åœŸ çš„å¾—åˆ†
    const elements = ["é‡‘", "æœ¨", "æ°´", "ç«", "åœŸ"];
    const scores = { "é‡‘": Math.random()*10, "æœ¨": Math.random()*10, "æ°´": Math.random()*10, "ç«": Math.random()*10, "åœŸ": Math.random()*10 };

    // æ‰¾å‡ºå¾—åˆ†æœ€ä½çš„äº”è¡Œ (å³æœ€éœ€è¦çš„)
    let minElement = "æ°´";
    let minScore = 99;
    for(let key in scores) {
        if(scores[key] < minScore) {
            minScore = scores[key];
            minElement = key;
        }
    }

    displayResult(name, minElement);
}

// 3. æ¸²æŸ“çµæœåˆ°å‰ç«¯
function displayResult(name, element) {
    const product = shoplineProducts[element];
    const resultDiv = document.getElementById('result');
    const analysisText = document.getElementById('analysisText');
    const productDisplay = document.getElementById('productDisplay');

    analysisText.innerText = `${name} æ‚¨å¥½ï¼Œæ‚¨çš„äº”è¡Œä¸­ã€${element}ã€‘è¼ƒç‚ºè–„å¼±ï¼Œå»ºè­°ä½©æˆ´ç›¸é—œæ°´æ™¶ä¾†å¹³è¡¡èƒ½é‡ã€‚`;
    
    productDisplay.innerHTML = `
        <img src="${product.img}" class="product-img">
        <h4>æ¨è–¦æ°´æ™¶ï¼š${product.name}</h4>
        <p>${product.info}</p>
        <a href="${product.url}" class="buy-btn">å‰å¾€ Shopline è³¼è²·</a>
    `;

    resultDiv.style.display = 'block';
    window.scrollTo(0, document.body.scrollHeight);
}
</script>

</body>
</html>